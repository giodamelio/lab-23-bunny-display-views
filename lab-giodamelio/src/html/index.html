<!DOCTYPE html>
<html lang="en" ng-app="peopleApp">
<head>
  <meta charset="UTF-8">
  <title></title>

  <script src="bundle.js"></script>
  <link rel="stylesheet" href="bundle.css">
</head>
<body ng-controller="PeopleController as pc" ng-init="pc.readPeople()">
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
        </button>
        <a class="navbar-brand" href="#">People List</a>
      </div>

      <div class="collapse navbar-collapse" id="navbar-collapse">
        <form
          novalidate
          name="createForm"
          ng-submit="pc.createPerson(pc.newPerson.name, pc.newPerson.gender)"
          class="navbar-form navbar-right">
          <input
            type="text"
            class="form-control"
            placeholder="Name"
            ng-model="pc.newPerson.name">
          <select
            class="form-control"
            ng-model="pc.newPerson.gender">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
          </select>
          <button
            type="submit"
            class="btn btn-default">
            <i class="fa fa-plus" aria-hidden="true"></i> Add
          </button>
          <button
            type="button"
            class="btn btn-default"
            ng-click="pc.readPeople()">
            <i class="fa fa-refresh" aria-hidden="true"></i> Refresh
          </button>
        </form>
      </div>
    </div>
  </nav>

  <main
    class="container">
    <div class="row">
      <div class="col-10-xs">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>ID</th>
              <th>Name</th>
              <th>Gender</th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="person in pc.people track by person.id">
              <td>{{ person.id }}</td>
              <td>
                <div ng-hide="person.editing">
                  {{ person.name }}
                </div>
                <div ng-show="person.editing">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Name"
                    ng-model="person.name">
                </div>
              </td>
              <td>
                <div ng-hide="person.editing">
                  <i
                    class="fa fa-lg fa-{{ person.gender | lowercase }}"
                    aria-hidden="true"></i> {{ person.gender }}
                </div>
                <div ng-show="person.editing">
                  <select
                    class="form-control"
                    ng-model="person.gender">
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                  </select>
                </div>
              </td>
              <td>
                <div ng-hide="person.editing">
                  <button
                    class="btn btn-xs btn-default"
                    type="button"
                    ng-click="person.editing=true">
                    <i class="fa fa-pencil" aria-hidden="true"></i> Edit
                  </button>
                </div>
                <div ng-show="person.editing">
                  <button
                    class="btn btn-xs btn-default"
                    type="button"
                    ng-click="person.editing=false;pc.updatePerson(person.id, person.name, person.gender)">
                    <i class="fa fa-save" aria-hidden="true"></i> Save
                  </button>
                </div>
              </td>
              <td>
                <div ng-hide="person.editing">
                  <button
                    type="button"
                    class="btn btn-xs btn-danger"
                    ng-click="pc.destroyPerson(person.id)">
                    <i class="fa fa-times" aria-hidden="true"></i> Delete
                  </button>
                </div>
                <div ng-show="person.editing">
                  <button
                    type="button"
                    class="btn btn-xs btn-danger"
                    ng-click="person.editing=false">
                    <i class="fa fa-undo" aria-hidden="true"></i> Cancel
                  </button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </main>
</body>
</html>
